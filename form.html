<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–æ—Ä–º–∞ –∑–∞–ø—Ä–æ—Å–∞</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, select, textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background: #4a6fa5;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background: #3a5a8a;
        }
    </style>
</head>
<body>
    <h1>–§–æ—Ä–º–∞ –∑–∞–ø—Ä–æ—Å–∞</h1>
    <form id="requestForm" action="https://api.telegram.org/bot7807072682:AAG8FV4Eqb9Y8jSI3gdwJP5CywEP_Mcrtb8/sendMessage" method="POST">
  <input type="hidden" name="chat_id" value="1222408670">
<input type="hidden" name="text" value="üìÖ <b>–î–∞—Ç–∞:</b> <%consultation_date%>
‚è∞ <b>–í—Ä–µ–º—è:</b> <%consultation_time%>
üí° <b>–¢–∏–ø:</b> <%consultation_type%>
${message ? '‚úçÔ∏è <b>–û–ø–∏—Å–∞–Ω–∏–µ:</b> ' + message : '‚úñÔ∏è –ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è'}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üÜî ID: #${Date.now().toString().slice(-4)}">
  <input type="hidden" name="reply_markup" value='{
  "inline_keyboard": [
    [{"text":"‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å", "callback_data":"accept_${Date.now()}"}],
    [{"text":"üîÑ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏", "callback_data":"reschedule_${Date.now()}"}]
  ]}'>
  <!-- –í—Å–µ –≤–∞—à–∏ —Ç–µ–∫—É—â–∏–µ –ø–æ–ª—è —Ñ–æ—Ä–º—ã (–∫–∞–ª–µ–Ω–¥–∞—Ä—å, –≤—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ç.–¥.) -->
  <div class="form-group">
    <label>–¢–∏–ø –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏</label>
    <select name="consultation_type" required>
      <option value="–û—á–Ω–∞—è">–û—á–Ω–∞—è</option>
      <option value="–î–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–∞—è">–î–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–∞—è</option>
    </select>
  </div>

  <div class="form-group">
    <label>–î–∞—Ç–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏</label>
   <input type="date" name="consultation_date" id="datePicker" 
       min="2025-03-29" 
       value="2025-03-29"
       required>
  </div>

  <div class="form-group">
    <label>–í—Ä–µ–º—è</label>
    <select name="consultation_time" required>
      <option value="10:00-11:00">10:00 - 11:00</option>
      <option value="14:00-15:00">14:00 - 15:00</option>
      <option value="18:00-19:00">18:00 - 19:00</option>
    </select>
  </div>

  <div class="form-group">
    <label>–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</label>
    <textarea name="message" rows="4"></textarea>
  </div>

  <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å</button>
        <script>
  document.querySelector('form').addEventListener('submit', function(e) {
    // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
    const formData = new FormData(this);
    
    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –¥–ª—è Telegram
    const textMsg = `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üìÖ ${new Date().toLocaleString('ru-RU')}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üìã <b>–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞</b>
üóì <b>–î–∞—Ç–∞:</b> ${formData.get('consultation_date')}
‚è∞ <b>–í—Ä–µ–º—è:</b> ${formData.get('consultation_time')}
üí° <b>–¢–∏–ø:</b> ${formData.get('consultation_type')}
${formData.get('message') ? '‚úçÔ∏è <b>–û–ø–∏—Å–∞–Ω–∏–µ:</b> ' + formData.get('message') : '‚úñÔ∏è –ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è'}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üÜî <i>ID:</i> #${Date.now().toString().slice(-4)}`;

    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–∫—Ä—ã—Ç—ã–µ –ø–æ–ª—è
    this.querySelector('[name="text"]').value = textMsg;
    this.querySelector('[name="reply_markup"]').value = JSON.stringify({
      inline_keyboard: [
        [{text: "‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å", callback_data: `accept_${Date.now()}`}],
        [{text: "üîÑ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏", callback_data: `reschedule_${Date.now()}`}]
    });
    </form>
<script>
    // –ó–∞–ø—Ä–µ—Ç –ø—Ä–æ—à–µ–¥—à–∏—Ö –¥–∞—Ç
    document.getElementById('datePicker').min = new Date().toISOString().split('T')[0];
</script>
</body>
</html>
